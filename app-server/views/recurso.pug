extends layout 

block content
    link(rel='stylesheet', href='/stylesheets/modal.css')
    
    div(id="editar_recurso" class="my-modal" style="display: none")
    div(id="preview_ficheiro" class="modal")

    input(id="tipos_edicao" hidden value=tipos)

    h1= r.titulo
    p Tipo: #{r.tipo}
    p Descri√ß√£o: #{r.descricao}
    p Data de cria√ß√£o: #{r.dataCriacao}
    p Data de registo: #{r.dataRegisto}
    p Data da √∫ltima modifica√ß√£o: #{r.dataUltimaMod}
    p Classifica√ß√£o:
        div(class="stars rate" data-percent=`${r.classificacao}`)
            a(class="classificarRecurso" href=`/recursos/${r._id}/classificar/20#${r._id}` title="Horr√≠vel") ‚òÖ
            a(class="classificarRecurso" href=`/recursos/${r._id}/classificar/40#${r._id}` title="Decente") ‚òÖ
            a(class="classificarRecurso" href=`/recursos/${r._id}/classificar/60#${r._id}` title="Bom") ‚òÖ
            a(class="classificarRecurso" href=`/recursos/${r._id}/classificar/80#${r._id}` title="Muito bom") ‚òÖ
            a(class="classificarRecurso" href=`/recursos/${r._id}/classificar/100#${r._id}` title="Excelente") ‚òÖ
    p Autor: #{r.nomeAutor}
    p Coment√°rios: #{r.comentarios}
    p N√∫mero de downloads: #{r.nrDownloads}
    p Tamanho: #{r.tamanho}

    table 
        p Ficheiros:
        tr 
            th Nome 
            th Tamanho
            th Visualizar
        each f in r.ficheiros 
            tr 
                td= f.nome_ficheiro
                td= f.tamanho
                td
                    button(type="button" class="resource-btn" onclick=`previewFicheiro("${f.nome_ficheiro}", "${f.diretoria}", "${f.tipo_mime}")`) üëÅ

    button(onclick=`showPostForm("${r._id}")`) Criar publica√ß√£o
    
    if r.dono
        button(onclick=`editarRecurso('${JSON.stringify(r)}')`) Editar

    p
        a(href=`/recursos/${r.idAutor}-${r.nome_ficheiro}/download/`) Download